---
layout: post
title:  "[Java] 3. NameValuePair - Server to Server Http Post form 전송 "
subtitle:   "[Java]"
categories: java
tags: java-devhistory
comments: true
---

NameValuePair - Server to Server Http Post form 전송 

<br>


## org.apache.http.NameValuePair
---

HTTP 프로토콜을 손쉽게 사용할 수 있도록 도와주는 Apache HTTP 컴포넌트 (HttpClient)  
<br>
NameValuePair는 <Key, Value> http 요청시 매개변수이며, List<NameValuePair>는 <key, value>쌍 의 목록이다.

<br><br>


## NameValuePair - Server to Server Http Post form 전송

> Example

```java
HttpPost httpPost = new HttpPost("www.example.com/api/board.do");
httpPost.setHeader("Accept", "application/json");
httpPost.setHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");

List<NameValuePair> postParams = new ArrayList<NameValuePair>();
postParams.add(new BasicNameValuePair("params1", "data1"));
postParams.add(new BasicNameValuePair("params2", "data2"));

//HTTP의 Post 방식인 경우 데이터를 Request body message에 전송
HttpEntity postEntity = new UrlEncodedFormEntity(postParams, "UTF-8");
httpPost.setEntity(postEntity);

CloseableHttpClient httpClient = HttpClientBuilder.create().build();
CloseableHttpResponse response = httpClient.execute(httpPost);

if (response.getStatusLine().getStatusCode() == 200) {

    ResponseHandler<String> handler = new BasicResponseHandler();
    String body = handler.handleResponse(response);

    //TypeReference<List<BoardModel>> typeReference = new TypeReference<List<BoardModel>>(){};
    //List<BoardModel> boardModelList = objectMapper.readValue(body, typeReference);
    BoardModel boardModel = objectMapper.readValue(body, BoardModel.class);
    log.info("## res boardModel={}", boardModel);
}
```

---